webpackJsonp([1],{"+V82":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),o=n("zL8q"),a=n.n(o),r=(n("tvR6"),n("V8mf")),s=n.n(r),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},c=n("VU/8")({name:"app"},l,!1,function(t){n("Xnq0")},null,null).exports,u=n("/ocq"),d={name:"UiItem",props:{name:String},data:function(){return{}},created:function(){},computed:{},methods:{dragstart:function(t){var e=t.target.getAttribute("data-name");t.dataTransfer.setData("uiName",e)},drag:function(t){}}},p={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"ui-item",attrs:{draggable:"true","data-name":this.name},on:{dragstart:this.dragstart,drag:this.drag}},[this._v("\n    "+this._s(this.name)+"\n")])},staticRenderFns:[]},m={data:function(){return{}},created:function(){},computed:{},methods:{dragstart:function(t){t.dataTransfer.setData("info","button")},drag:function(t){}},components:{UiItem:n("VU/8")(d,p,!1,function(t){n("+V82")},null,null).exports}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("ui-item",{attrs:{name:"Button"}}),this._v(" "),e("p",{attrs:{draggable:"true"},on:{dragstart:this.dragstart,drag:this.drag}},[this._v("\n    主要按钮\n  ")])],1)},staticRenderFns:[]},f=n("VU/8")(m,h,!1,function(t){n("lGv/")},null,null).exports,v=n("Gu7T"),g=n.n(v),b=n("Zrlr"),y=n.n(b),_=function t(){y()(this,t),this.allow=[],this.children=[],this.cid="100",this.clazzId=6,this.code=function(t){t.cid="100",t.name="DropPanel",t.nickname="DropPanel",t.type="Div",t.template="\n<div {model} {slotName}>{slot}</div>\n",t.desc="拖拽安置面板",t.allow=[],t.model={style:{type:"json",value:{},desc:"value"}},t.script=function(){},t.render=function(t){var e=t.store;return this.initScript||(this.initScript=!0),t("Div",{style:this.model.style.value,domProps:{controlConfig:this},directives:[{name:"droppable"}],class:{"soul-drop-panel":!0},nativeOn:{click:function(t){e.commit("dragModule/showEditorPanel",t)}}},this.children.map(function(e){return e.render(t)}))}},this.desc="拖拽安置面板",this.initScript=!1,this.maxUid=16,this.model={style:{desc:"value",type:"json",value:{}}},this.name="DropPanel",this.nickname="DropPanel",this.render=function(t){var e=t.store;return this.initScript||(this.initScript=!0),t("Div",{style:this.model.style.value,domProps:{controlConfig:this},class:{"soul-drop-panel":!0},nativeOn:{click:function(t){e.commit("dragModule/showEditorPanel",t)}}},this.children.map(function(e){return e.render(t)}))},this.renderProd="",this.script=function(){},this.template="`<div {model} {slotName}>{slot}</div>`",this.type="Div",this.uid="12"},w={name:"RenderLayout",props:{components:{type:Array,default:[]}},render:function(t){var e,n=new _;return(e=n.children).push.apply(e,g()(this.components)),n.render(t)}},x=n("wxAW"),D=n.n(x),C=n("NYxO"),T=1;i.default.use(C.a);var V=new C.a.Store({state:{editingAttr:{},components:[],code:""},mutations:{setEditingAttr:function(t,e){t.editingAttr=e.controlConfig},setComponents:function(t,e){t.components=e},setCode:function(t,e){t.code=e}},actions:{convertToCode:function(t){(0,t.commit)("setCode",function(t){console.log(t);for(var e="",n=0;n<t.length;n++){var i=t[n],o="",a="";for(var r in i.attr)i.attr[r].compileType&&"innerHTML"===i.attr[r].compileType?o=i.attr[r].value:a=a+" "+i.attr[r].name+'="'+i.attr[r].value+'"';e=e+"\r\n"+i.template.replace("{attr}",a).replace("{innerHTML}",o)}return"<template>\n<div>\n"+e+"\n</div>\n</template>"}(t.state.components))}}}),k={Button:function(){function t(e){y()(this,t),this.uid=e,this.name="Button",this.template="<el-button{attr}>{innerHTML}</el-button>",this.attr={name:{type:"text",compileType:"innerHTML",value:"提交",desc:"",name:"text"},type:{type:"select",name:"type",items:[{label:"primary",value:"primary"},{label:"ghost",value:"ghost"},{label:"dashed",value:"dashed"},{label:"text",value:"text"},{label:"info",value:"info"},{label:"success",value:"success"},{label:"warning",value:"warning"},{label:"error",value:"error"}],value:"primary",desc:"type of button"}}}return D()(t,[{key:"render",value:function(t){return t("el-button",{props:{type:this.attr.type.value,loading:!1},domProps:{controlConfig:this,innerHTML:this.attr.name.value},nativeOn:{click:function(t){console.log(t),V.commit("setEditingAttr",t.target)}}})}}]),t}()},A={data:function(){return{}},created:function(){},computed:{components:function(){return this.$store.state.components}},methods:{allowDrop:function(t){t.preventDefault()},drop:function(t){var e=t.dataTransfer.getData("uiName");console.log(e);var n=T++,i=new k.Button(n);this.components.push(i),this.$store.commit("setComponents",this.components),t.preventDefault()}},components:{RenderLayout:w}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layout-box",attrs:{id:"div1"},on:{drop:this.drop,dragover:this.allowDrop}},[e("render-layout",{attrs:{components:this.components}})],1)},staticRenderFns:[]},P=n("VU/8")(A,$,!1,function(t){n("lcL3")},null,null).exports,E={name:"",data:function(){return{form:{name:""}}},computed:{editingAttr:{get:function(){return this.$store.state.editingAttr},set:function(){console.log("haha")}}},watch:{}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"attr-editor-box"},[n("h4",[t._v("属性设置："+t._s(t.editingAttr.name))]),t._v(" "),n("el-form",{ref:"form",attrs:{"label-position":"left",model:t.form,"label-width":"40px",size:"small"}},t._l(t.editingAttr.attr,function(e,i){return n("div",["text"===e.type?n("el-form-item",{attrs:{label:e.name}},[n("el-input",{model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"config.value"}})],1):t._e(),t._v(" "),"select"===e.type?n("el-form-item",{attrs:{label:e.name}},[n("el-select",{model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"config.value"}},t._l(e.items,function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1):t._e()],1)}))],1)},staticRenderFns:[]},N={name:"",data:function(){return{codeDialogVisible:!1}},computed:{code:function(){return this.$store.state.code}},methods:{showCode:function(){this.$store.dispatch("convertToCode"),this.codeDialogVisible=!0}},components:{UiLibBox:f,AttrEditor:n("VU/8")(E,L,!1,function(t){n("s8s9")},"data-v-5b899edd",null).exports,PreviewBox:P}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-header",[n("el-button",{attrs:{type:"primary"},on:{click:t.showCode}},[t._v("code")])],1),t._v(" "),n("el-container",[n("el-aside",{attrs:{width:"250px"}},[n("ui-lib-box")],1),t._v(" "),n("el-main",[n("preview-box")],1),t._v(" "),n("el-aside",{attrs:{width:"250px"}},[n("attr-editor")],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"提示",visible:t.codeDialogVisible,width:"80%"},on:{"update:visible":function(e){t.codeDialogVisible=e}}},[n("pre",{attrs:{contenteditable:"true"}},[n("code",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"html"},[t._v(t._s(t.code))])]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.codeDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.codeDialogVisible=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]},U=n("VU/8")(N,R,!1,function(t){n("bFCN")},"data-v-718e7df3",null).exports;i.default.use(u.a);var F=new u.a({routes:[{path:"/",name:"Home",component:U}]});i.default.use(a.a),i.default.config.productionTip=!1,i.default.directive("highlight",function(t){s.a.highlightBlock(t)}),new i.default({el:"#app",router:F,store:V,template:"<App/>",components:{App:c}})},Xnq0:function(t,e){},bFCN:function(t,e){},"lGv/":function(t,e){},lcL3:function(t,e){},s8s9:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.82af9ac468c513240146.js.map